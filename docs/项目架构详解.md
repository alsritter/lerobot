# LeRobot 项目目录结构说明

## 项目概述

LeRobot 是 Hugging Face 开发的机器人学习框架，专注于真实世界的机器人应用。这个项目提供了最先进的模仿学习和强化学习方法，旨在降低机器人技术的门槛。

## 顶级目录结构

```
lerobot/
├── .github/                    # GitHub 配置文件（CI/CD, 模板等）
├── .git/                       # Git 版本控制文件
├── benchmarks/                 # 性能基准测试
├── docker/                     # Docker 容器配置
├── docs/                       # 文档源文件
├── examples/                   # 示例代码和教程
├── media/                      # 媒体文件（图片、视频等）
├── src/                        # 核心源代码
├── tests/                      # 测试文件
├── CODE_OF_CONDUCT.md          # 行为准则
├── CONTRIBUTING.md             # 贡献指南
├── LICENSE                     # 许可证文件
├── Makefile                    # 构建和管理脚本
├── README.md                   # 项目主要说明文档
├── pyproject.toml              # Python 项目配置
├── requirements-*.txt          # 依赖包列表
└── requirements.in             # 依赖包源文件
```

## 核心源代码结构 (`src/lerobot/`)

### 主要模块

```
src/lerobot/
├── __init__.py                 # 包初始化文件
├── __version__.py              # 版本信息
├── async_inference/            # 异步推理模块
├── cameras/                    # 摄像头相关功能
├── configs/                    # 配置管理
├── datasets/                   # 数据集处理
├── envs/                       # 环境定义
├── model/                      # 机器学习模型
├── motors/                     # 电机控制
├── optim/                      # 优化器
├── policies/                   # 策略实现
├── processor/                  # 数据处理器
├── rl/                         # 强化学习相关
├── robots/                     # 机器人硬件接口
├── scripts/                    # 可执行脚本
├── teleoperators/              # 遥操作功能
├── templates/                  # 模板文件
├── transport/                  # 数据传输
└── utils/                      # 工具函数
```

### 详细模块说明

#### 1. `cameras/` - 摄像头模块
处理各种摄像头的接入和图像采集功能，支持多种摄像头类型和配置。

#### 2. `datasets/` - 数据集模块
- 数据集加载和处理
- 支持 LeRobotDataset 格式
- 数据预处理和增强
- 与 Hugging Face Hub 的集成

#### 3. `policies/` - 策略模块
实现各种机器人控制策略：
- ACT (Action Chunking with Transformers)
- Diffusion Policy
- TDMPC (Temporal Difference Model Predictive Control)
- VQ-BeT
- SmolVLA

#### 4. `robots/` - 机器人硬件接口
支持多种机器人平台：
- ALOHA 系列
- SO-100/SO-101
- HopeJR
- Reachy2
- 自定义机器人接口

#### 5. `envs/` - 环境模块
提供仿真和真实环境：
- Gymnasium 集成
- ALOHA 环境
- PushT 环境
- XArm 环境

#### 6. `motors/` - 电机控制
- Feetech 舵机支持
- 电机控制协议
- 硬件抽象层

## 示例代码结构 (`examples/`)

```
examples/
├── backward_compatibility/     # 向后兼容性示例
├── dataset/                   # 数据集使用示例
├── lekiwi/                    # LeKiwi 机器人示例
├── phone_to_so100/            # 手机到 SO-100 的示例
├── port_datasets/             # 数据集迁移示例
├── so100_to_so100_EE/         # SO-100 末端执行器示例
├── training/                  # 训练示例
└── tutorial/                  # 教程示例
```

每个示例目录通常包含：
- `evaluate.py` - 评估脚本
- `record.py` - 数据记录脚本
- `replay.py` - 回放脚本
- `teleoperate.py` - 遥操作脚本

## 测试结构 (`tests/`)

测试文件与源代码结构对应，确保每个模块都有相应的测试覆盖。

## 配置和文档

### 配置文件
- `pyproject.toml` - 现代 Python 项目配置
- `requirements-*.txt` - 不同平台的依赖
- `Makefile` - 构建和管理任务

### 文档
- `docs/` - 详细文档源文件
- `README.md` - 项目概述和快速开始
- `CONTRIBUTING.md` - 开发者贡献指南

## 支持的机器人和环境

### 真实机器人
1. **SO-101** - 低成本机械臂（约114欧元）
2. **HopeJR** - 人形机器人手臂
3. **LeKiwi** - 移动机器人平台
4. **ALOHA** - 双臂机器人系统

### 仿真环境
1. **PushT** - 推箱子任务
2. **ALOHA** - 双臂操作任务
3. **SimXArm** - 机械臂仿真
4. **MetaWorld** - 多任务操作环境

## 主要功能特性

### 1. 数据管理
- 统一的数据集格式 (LeRobotDataset)
- 自动数据下载和缓存
- 数据可视化工具
- 与 Hugging Face Hub 集成

### 2. 策略训练
- 多种最先进的策略算法
- 分布式训练支持
- WandB 集成用于实验跟踪
- 配置管理系统

### 3. 机器人控制
- 实时控制接口
- 多机器人平台支持
- 安全机制和错误处理
- 遥操作功能

### 4. 部署和推理
- 模型部署工具
- 实时推理优化
- 异步处理支持
- 模型转换和优化

## 开发工作流

1. **数据收集** - 使用遥操作或现有数据集
2. **数据处理** - 转换为 LeRobotDataset 格式
3. **策略训练** - 选择合适的算法进行训练
4. **评估测试** - 在仿真或真实环境中测试
5. **部署应用** - 部署到目标机器人平台

## 快速开始

1. **安装环境**
   ```bash
   conda create -y -n lerobot python=3.10
   conda activate lerobot
   pip install -e .
   ```

2. **可视化数据集**
   ```bash
   lerobot-dataset-viz --repo-id lerobot/pusht --episode-index 0
   ```

3. **训练策略**
   ```bash
   lerobot-train --config_path=lerobot/diffusion_pusht
   ```

4. **评估模型**
   ```bash
   lerobot-eval --config-name=eval_aloha_sim --policy_repo_id=lerobot/act_aloha_sim_insertion_human
   ```

## 社区和支持

- **GitHub**: https://github.com/huggingface/lerobot
- **Hugging Face Hub**: https://huggingface.co/lerobot
- **Discord**: 活跃的社区支持
- **文档**: 详细的在线文档和教程

这个项目为机器人学习提供了完整的工具链，从数据收集到模型部署，支持研究人员和开发者快速构建和部署机器人应用。